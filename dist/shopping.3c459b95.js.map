{"version":3,"sources":["shopping.js"],"names":["shoppingForm","document","querySelector","list","items","handleSubmit","e","preventDefault","console","log","name","currentTarget","item","value","id","Date","now","complete","push","length","target","reset","dispatchEvent","CustomEvent","displayItems","html","map","join","innerHTML","mirrorToLocalStorage","info","localStorage","setItem","JSON","stringify","restoreFromLocalStorage","lsItems","parse","getItem","deleteItem","filter","markAsComplete","itemRef","find","addEventListener","parseInt","matches"],"mappings":"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","file":"shopping.3c459b95.js","sourceRoot":"..","sourcesContent":["const shoppingForm = document.querySelector('.shopping');\nconst list = document.querySelector('.list');\n\n// We need an array to hold our state\nlet items = [];\n\nfunction handleSubmit(e) {\n  e.preventDefault();\n  console.log('submitted!!');\n  const name = e.currentTarget.item.value;\n  // if its empty, then dont submit it\n  if (!name) return;\n\n  const item = {\n    name,\n    id: Date.now(),\n    complete: false,\n  };\n  // Push the items into our state\n  items.push(item);\n  console.log(`There are now ${items.length} in your state`);\n  // Clear the form\n  e.target.reset();\n  // fire off a custom event that will tell anyone else who cares that the items have been updated!\n  list.dispatchEvent(new CustomEvent('itemsUpdated'));\n}\n\nfunction displayItems() {\n  console.log(items);\n  const html = items\n    .map(\n      item => `<li class=\"shopping-item\">\n      <input\n        value=\"${item.id}\"\n        type=\"checkbox\"\n        ${item.complete && 'checked'}\n      >\n      <span class=\"itemName\">${item.name}</span>\n      <button\n        aria-label=\"Remove ${item.name}\"\n        value=\"${item.id}\"\n      >&times;</buttonaria-label=\"Remove>\n  </li>`\n    )\n    .join('');\n  list.innerHTML = html;\n}\n\nfunction mirrorToLocalStorage() {\n  console.info('Saving items to localstorage');\n  localStorage.setItem('items', JSON.stringify(items));\n}\n\nfunction restoreFromLocalStorage() {\n  console.info('Restoring from LS');\n  // pull the items from LS\n  const lsItems = JSON.parse(localStorage.getItem('items'));\n  if (lsItems.length) {\n    // items = lsItems;\n    // lsItems.forEach(item => items.push(item));\n    // items.push(lsItems[0], lsItems[1]);\n    items.push(...lsItems);\n    list.dispatchEvent(new CustomEvent('itemsUpdated'));\n  }\n}\n\nfunction deleteItem(id) {\n  console.log('DELETIENG ITEM', id);\n  // update our items array without this one\n  items = items.filter(item => item.id !== id);\n  console.log(items);\n  list.dispatchEvent(new CustomEvent('itemsUpdated'));\n}\n\nfunction markAsComplete(id) {\n  console.log('Marking as complete', id);\n  const itemRef = items.find(item => item.id === id);\n  itemRef.complete = !itemRef.complete;\n  list.dispatchEvent(new CustomEvent('itemsUpdated'));\n}\n\nshoppingForm.addEventListener('submit', handleSubmit);\nlist.addEventListener('itemsUpdated', displayItems);\nlist.addEventListener('itemsUpdated', mirrorToLocalStorage);\n// Event Delegation: We listen or the click on the list <ul> but then delegate the click over to the button if that is what was clicked\nlist.addEventListener('click', function(e) {\n  const id = parseInt(e.target.value);\n  if (e.target.matches('button')) {\n    deleteItem(id);\n  }\n  if (e.target.matches('input[type=\"checkbox\"]')) {\n    markAsComplete(id);\n  }\n});\nrestoreFromLocalStorage();\n"]}